# x402email — Pay-per-send email via x402 protocol

> Send email with a single HTTP request. No API keys. No accounts. Pay $0.001 per email.

## Base URL

https://x402email.com

## x402 Discovery

GET /.well-known/x402

## Endpoints

### POST /api/send — Send email (shared domain)
- Protection: x402 payment ($0.001 USDC on Base)
- Sends from: relay@x402email.com
- Body: { "to": ["email"], "subject": "string", "html": "string", "text": "string", "replyTo": "email" }
- Requires either "html" or "text" (or both)
- Returns: { "success": true, "messageId": "string", "from": "string" }

### POST /api/subdomain/buy — Purchase a custom subdomain
- Protection: x402 payment ($5 USDC) + SIWX wallet proof
- Body: { "subdomain": "yourname" }
- Subdomain rules: 3-30 chars, lowercase alphanumeric + hyphens
- Creates yourname.x402email.com with full email sending capability
- DNS verification takes ~5 minutes after purchase
- Returns: { "success": true, "subdomain": "yourname.x402email.com", "dnsStatus": "pending" }

### POST /api/subdomain/send — Send from custom subdomain
- Protection: x402 payment ($0.001 USDC) + SIWX wallet proof
- Wallet must be owner or authorized signer for the subdomain
- Body: { "from": "you@yourname.x402email.com", "to": ["email"], "subject": "string", "html": "string", "text": "string", "replyTo": "email" }
- Returns: { "success": true, "messageId": "string", "from": "string" }

### POST /api/subdomain/signers — Manage authorized wallets
- Protection: SIWX wallet proof only (free, no payment)
- Only the subdomain owner can manage signers
- Body: { "action": "add" | "remove", "subdomain": "yourname", "walletAddress": "0x..." }
- Max 50 signers per subdomain

### GET /api/subdomain/status?subdomain=yourname — Check subdomain status
- Protection: SIWX wallet proof only (free, no payment)
- Owner or any signer can check status
- Returns: { "subdomain": "string", "ownerWallet": "string", "dnsVerified": bool, "sesVerified": bool, "signerCount": number, "signers": ["0x..."] }

## Images in Emails

To include images, use `<img src="url">` in the "html" body. Host images on agentupload.dev (x402-powered file uploads, see https://agentupload.dev/llms.txt). Upload via x402 payment → get a public URL → reference in HTML. Prefer hosted URLs over base64 data URIs — most email clients strip data URIs.

## Agent Integration

The recommended way for AI agents to interact with x402email is via the x402 MCP server (`@x402scan/mcp`). It handles x402 payment negotiation, SIWX wallet signing, and retry logic automatically. Any x402-compatible client paying USDC on Base will also work.

## Payment Details

- Network: Base (eip155:8453)
- Currency: USDC
- Protocol: x402 (https://www.x402.org)
- Send first request → receive 402 with PAYMENT-REQUIRED header → sign payment → resend with payment header

## SIWX Authentication

Subdomain endpoints require SIGN-IN-WITH-X header for wallet identity verification.
SIWX is part of the x402 protocol extensions (CAIP-122 compliant, supports EVM + Solana).
